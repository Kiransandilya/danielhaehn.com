<!DOCTYPE html>
<!-- 

         \\
          \\_   \\
           (')   \\_
   jgs    / )=.- -(')
        o( )o( )_-\_

 http://danielhaehn.com
 
 email me!   h a e h n <AT> i e e e . o r g

 PZ.

 -->
<html>
  <head>
    <title>(Un-)Format – DANIELHAEHN.com</title>

        <meta charset="utf-8" />
    <meta content='text/html; charset=utf-8' http-equiv='Content-Type'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1.0'>

    
    <meta name="description" content=" I recently wiped a white Macbook 3.1 from 2007 to install Xubuntu. It turned out that important data was lost during this (or even during a re-installation two years ago).

Luckily, with some magic I was able to restore all lost data.

" />
    <meta property="og:description" content=" I recently wiped a white Macbook 3.1 from 2007 to install Xubuntu. It turned out that important data was lost during this (or even during a re-installation two years ago).

Luckily, with some magic I was able to restore all lost data.

" />
    
    <meta name="author" content="" />

    
    <meta property="og:title" content="(Un-)Format" />
    <meta property="twitter:title" content="(Un-)Format" />
    

    <!--[if lt IE 9]>
      <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="alternate" type="application/rss+xml" title=" - " href="/feed.xml" />

  </head>

  <body>
    <div class="wrapper-masthead">
      <div class="container">
        <header class="masthead clearfix">
          <a href="/"><img src="/gfx/danielhaehncom.png" title="DANIELHAEHN.com"/></a>

          <nav>
            <a href="/posts">Posts</a>
            <a href="/about">About</a>
          </nav>
        </header>
      </div>
    </div>

    <div id="main" role="main" class="container">
      <article class="post">
  <h1>(Un-)Format</h1>

  <div class="entry">
    <p><img src="/gfx/posts/whitemacbook_small.jpg" alt="White Macbook running Xubuntu" title="White Macbook running Xubuntu" class="thumb" /> I recently wiped a white Macbook 3.1 from 2007 to install Xubuntu. It turned out that important data was lost during this (or even during a re-installation two years ago).</p>

<p>Luckily, with some magic I was able to restore all lost data. <!-- more --> For this, I used the free software <a href="http://www.cgsecurity.org/wiki/PhotoRec">PhotoRec</a> by <a href="http://www.cgsecurity.org/wiki/CV_Christophe_GRENIER">Monsieur Grenier</a>. In Ubuntu, it can be installed as a bundle with <a href="http://www.cgsecurity.org/wiki/TestDisk">TestDisk</a> (which is another great tool) using <code class="highlighter-rouge">sudo apt-get install testdisk</code>. Launch <code class="highlighter-rouge">sudo photorec</code> for root access.</p>

<p>The first step is to select the disk to work on (in my case <code class="highlighter-rouge">/dev/sda</code>). I also have an external hard drive (<code class="highlighter-rouge">/dev/sdb</code>) hooked up to store recovered data somewhere else and to not overwrite any potentially yet un-recovered data.</p>

<p><img src="/gfx/posts/pr1.png" alt="Selecting the disk in PhotoRec" title="Selecting the disk in PhotoRec" class="center-image" /></p>

<p>Since I partitioned the disk during re-installation, I choose the <em>[Whole disk]</em> rather than any partition for recovery. For speed, it is recommended to limit data recovery to the relevant filetypes (f.e. .pdf, .jpg and .zip) using the <em>File Opt</em> menu.</p>

<p><img src="/gfx/posts/pr2.png" alt="Selecting the partition in PhotoRec" title="Selecting the partition in PhotoRec" class="center-image" /></p>

<p>The software needs to know the filesystem type. The laptop was running OS X prior re-installation so my choice is <em>Other</em>.</p>

<p><img src="/gfx/posts/pr3.png" alt="Selecting the filesystem type in PhotoRec" title="Selecting the filesystem type in PhotoRec" class="center-image" /></p>

<p>Recovery starts after selecting the output folder (for me <code class="highlighter-rouge">/dev/sdb/</code>). <a href="http://www.cgsecurity.org/wiki/PhotoRec">PhotoRec</a> reports all recoveries while running and can take multiple hours. This also depends on the second hard drive to store the recovered files - the faster, the better.</p>

<p><img src="/gfx/posts/pr4.png" alt="PhotoRec in action" title="PhotoRec in action" class="center-image" /></p>

<p>Recovered files are stored in folders <code class="highlighter-rouge">recup_dir.1</code>, <code class="highlighter-rouge">recup_dir.2</code>, …</p>

<p><img src="/gfx/posts/pr5.png" alt="PhotoRec in action" title="PhotoRec in action" class="center-image" /></p>

<p>… And there are multiple ways of restoring the original filenames or sorting the recovered files <a href="http://www.cgsecurity.org/wiki/After_Using_PhotoRec">here</a>.</p>

<p><img src="/gfx/posts/pr6.png" alt="PhotoRec in action" title="PhotoRec in action" class="center-image" /></p>

<p>Well, everybody was absolutely ecstatic to restore the lost data! Thank you, <a href="http://www.cgsecurity.org/wiki/CV_Christophe_GRENIER">Monsieur Grenier</a>! And btw, <a href="http://www.xubuntu.org/">Xubuntu</a> runs awesome on this device!</p>

  </div>

  <div class="date">
    Written on February  9, 2017
  </div>

</article>

    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          <table>
            <tr>
              <td colspan="2" align="left">da isser ja<br><br></td>
            </tr>
            <tr>
              <td rowspan="2" align="left"><img src="/gfx/danielhaehn.png"/ width="100"></td>
              <td align="left">DANIEL HAEHN<br>machine learning + visualization + connectomics<br>phd student @ harvard</td>
            </tr>
            <tr>
              <td id="icons" align="left">
                <a href="https://twitter.com/danielhaehn" target="_blank"><span class="icon-twitter tooltip"><span class="tooltiptext">Twitter</span></span></a>
                <a href="https://scholar.google.com/citations?user=HGvsO6oAAAAJ&hl=en" target="_blank"><span class="icon-book tooltip"><span class="tooltiptext">Google Scholar</span></span></a>
                <a href="https://www.linkedin.com/in/haehn" target="_blank"><span class="icon-linkedin2 tooltip"><span class="tooltiptext">LinkedIn</span></span></a>
                <a href="https://github.com/haehn" target="_blank"><span class="icon-github tooltip"><span class="tooltiptext">GitHub</span></span></a>
                <a href="mailto:LASTNAME@ieee.org" target="_blank"><span class="icon-email tooltip"><span class="tooltiptext">E-Mail</span></span></a>
              </td>
            </tr>
          </table>
          

        </footer>
      </div>
    </div>

    

  </body>
</html>
