---
layout: post
permalink: /brain/
title: machine learning + visualization + connectomics
---

![Rainbow Brain]({{ site.baseurl }}/gfx/rainbow_brain.png "Rainbow Brain"){: .frontimg} ![Chip Brain]({{ site.baseurl }}/gfx/chip_brain.png "Chip Brain"){: .frontimg}

In connectomics, we create a map of the mammalian brain at nano-scale. For this, we acquire image stacks of rat brain using electron microscopy. These images are so high resolution that individual neurons (nerve cells) and their connections (synapses) are visible. <!-- more --> Machine learning algorithms then classify cell structures and connections in these extremely large (terabytes or petabytes) images since manual processing is impossible. 

![Neurons in Rat Brain]({{ site.baseurl }}/gfx/cells.jpg "Neurons in Rat Brain")
<small><br>A slice of rat brain</small>

<video autoplay loop="loop" style="object-fit:fill; float:right; margin-right:14px;" class="frontimg" title="Circuit board flight"><source src="{{ site.baseurl }}/gfx/3dconnectomics.mp4" type="video/mp4"></video>
The ultimate goals are to understand the wiring of the brain, to cure mental and neurological diseases, and also to derive new artificial intelligence methods. These goals are still far away and the next two milestones are a fully processed 100 micron cube and then the extension to a 1 milimeter cube of brain tissue. The video on the right shows selected neurons in a 100 micron cube.

<small>
[1] A. Suissa-Peleg, D. Haehn, S. Knowles-Barley, V. Kaynig, T.R. Jones, A. Wilson, R. Schalek, J.W. Lichtman, H. Pfister: [Automatic Neural Reconstruction from Petavoxel of Electron Microscopy Data](https://www.cambridge.org/core/journals/microscopy-and-microanalysis/article/div-classtitleautomatic-neural-reconstruction-from-petavoxel-of-electron-microscopy-datadiv/44219CFD1C9F1DE998BF8746F9F4C703), Microscopy and Microanalysis, 2016.<br>
[2] R. Schalek, D. Lee, N. Kasthuri, A. Suissa-Peleg, T.R. Jones, V. Kaynig, D. Haehn, H. Pfister, D. Cox, J.W. Lichtman: [Imaging a 1 mm 3 Volume of Rat Cortex Using a MultiBeam SEM](https://www.cambridge.org/core/journals/microscopy-and-microanalysis/article/div-classtitlespan-classboldimaging-a-1-mmspanspan-classsupspan-classbold3spanspanspan-classboldvolume-of-rat-cortex-using-a-multibeam-semspandiv/CF83F558CF849A0E64A09BDA4EA74550), Microscopy and Microanalysis, 2016.
</small>

## proofreading

The automatic classification of cells and connections is far from perfect. Humans are needed to double-check the results. This task is called proofreading. In 2014, we published [Dojo](http://rhoana.org/dojo/), an interactive proofreading software.

![Interactive Proofreading using Dojo]({{ site.baseurl }}/gfx/dojo.jpg "Interactive Proofreading using Dojo")
<small><br>The Dojo proofreading software to fix automatic labelings</small>

Dojo enables proofreading for completely untrained people, recruited from the street. The data and results from the published user study are available as [The Proofreading Benchmark](http://github.com/haehn/proofreading/).

<video autoplay loop="loop" style="object-fit:fill; float:left; margin-right:14px;" class="frontimg" title="Circuit board flight"><source src="{{ site.baseurl }}/gfx/guidedproofreading_small.mp4" type="video/mp4"></video> We found that the majority of time during interactive proofreading is spent looking for errors. 

To reduce this, we developed the [Guided Proofreading](http://github.com/VCG/guidedproofreading/) system. Artifical intelligence suggests potential errors and corrections to a user and speeds up the proofreading task. Our results show that our trained classifier is also able to perform proofreading automatically - up to a certain threshold (and better than using Dojo :D). The video on the left shows the Guided Proofreading user interface in action, reducing proofreading to simple yes/no decisions.

<small>
[3] D. Haehn, S. Knowles-Barley, M. Roberts, J. Beyer, N. Kasthuri, J.W. Lichtman, H. Pfister: [Design and evaluation of interactive proofreading tools for connectomics](http://ieeexplore.ieee.org/abstract/document/6875931/), IEEE transactions on visualization and computer graphics, 2014.<br>
[4] D. Haehn, V. Kaynig, J. Tompkin, J.W. Lichtman, H. Pfister: [Guided Proofreading of Automatic Segmentations for Connectomics](http://COMINGSOON), CoRR, 2017.
</small>

## visualization

Brain data is beautiful - not only at nano-scale. In 2012, we developed [XTK](http://goXTK.com), the first web-based visualization framework for medical imaging data such as MRI scans.

![My Brain visualized using XTK]({{ site.baseurl }}/gfx/mybrain.jpg "My Brain visualized using XTK")
<small><br>A glimpse into my brain rendered from an MRI scan using XTK</small>

[Slice:Drop](http://slicedrop.com) is a web-based viewer for many medical imaging formats. It is based on XTK and used by clinicians, researchers, and patients every day. The software visualizes data without requiring any server uploads.

![The Slice:Drop viewer]({{ site.baseurl }}/gfx/slicedrop2.png "The Slice:Drop viewer")
<small><br>The Slice:Drop viewer supports different visualizations</small>

MRI data, as visualized by [XTK](http://goXTK.com) and [Slice:Drop](http://slicedrop.com), is much smaller than connectomics data. To visualize brains at nano-scale, we developed the [MBeam viewer](http://github.com/rhoana/mb) for the [ZEISS MultiSEM 505 microscope](https://www.zeiss.com/microscopy/int/products/scanning-electron-microscopes/multisem.html). Using this viewer, neuroscientists are able to view high resolution images immediately after acquisition.

![The ZEISS MultiSEM 505 microscope with Jeff Lichtman in front of it]({{ site.baseurl }}/gfx/multisem.jpg "The ZEISS MultiSEM 505 microscope with Jeff Lichtman in front of it") ![The MBeam viewer]({{ site.baseurl }}/gfx/mbeam.png "The MBeam viewer")
<small><br>The ZEISS MultiSEM 505 microscope (with [Jeff Lichtman](http://lichtmanlab.fas.harvard.edu/) in front of it) and the MBeam viewer</small>

From a software engineering standpoint, the MBeam viewer and Dojo provide overlapping functionality. In particular, the logic to cut-out parts of data for transfer and visualization is implemented in both products. 

![Butterfly]({{ site.baseurl }}/gfx/bfly.png "Butterfly"){: .center-image} 

Therefor, we now develop [Butterfly](http://github.com/rhoana/butterfly/), a system for scalable data management and visualization, which unifies logic and visualization as separate modules. Using Butterfly, it is possible to rapidly develop new interactive visualizations of large scientific datasets.




<small>
[5] D. Haehn, N. Rannou, B. Ahtam, E. Grant, R. Pienaar: [Neuroimaging in the browser using the X Toolkit](http://www.frontiersin.org/10.3389/conf.fninf.2014.08.00101/event_abstract), Frontiers in Neuroinformatics, 2014.<br>
[6] D. Haehn, N. Rannou, E. Grant, R. Pienaar: [Slice: drop: Collaborative medical imaging in the browser](http://dl.acm.org/citation.cfm?id=2503645), ACM SIGGRAPH Computer Animation Festival, 2013.
</small>

## further reading

[Machine Intelligence from Cortical Networks (MICrONS)](https://www.iarpa.gov/index.php/research-programs/microns)

[Terascale Neuroscience](https://neurodata.io/)

[AMI.js: Medical Imaging JavaScript ToolKit](https://github.com/FNNDSC/ami#readme)

[A Transfer Function Editor for Browsers](http://afruehstueck.github.io/TF.html)

[Neuroglancer: a WebGL-based viewer for volumetric data](https://github.com/google/neuroglancer)

[Machine Learning for humans](https://ironman5366.github.io/learn-blog/)

[The Visual Computing Group @ Harvard](http://vcg.seas.harvard.edu/)
